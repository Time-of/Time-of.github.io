---
categories: [공부, 그래픽스]
tags: [그래픽스]
use_math: true
title: "[게임 그래픽스] 그래픽스 기초 이론"
---
# 모델링
장면 내부의 물체를 정의하는 작업.  
'공간 상에 무언가를 배치하는 것'이 아닌, '그 무언가가 공간 상에서 어떻게 정의되는가'에 대한 작업이다.  
<br>

---

# 렌더링
공간 상에 무언가가 그려지는 작업.  
모델링된 무언가의 데이터를 공간 상에 그리는 작업이다.  
<br>

---

# 래스터화 (Rasterization)
물체 좌표를 모니터의 화면 좌표로 바꿔내는 과정.  
말 그대로, 공간 상에서 그려야 할 것을 모니터에 표현하기 위해 픽셀로 바꾸는 과정이다.  
픽셀 단위로 그려지기에 '계단 현상'이 생길 수 있다.  
<br>

---

# 프레임 버퍼
비디오 메모리라고도 불린다.  
**화면에 그려지는 데이터를 담은 공간**이다.  
  
> 참고: 하드웨어 가속을 사용한다는 말은, 그래픽카드를 사용하여 화면에 출력한다는 뜻이다.
{: .prompt-tip }

<ins>일반적으로 프레임 버퍼는 색상 + 깊이(Depth) + 스텐실(Stencil)로 구성된다.</ins>  
이 프레임 버퍼에 색상을 작성하는 작업은 시간이 소요되기 때문에, 하나의 프레임 버퍼만 사용하면 화면 잘림 현상이 발생할 수 있다.  
	- 프레임 버퍼를 비우고, 색상 값을 기록하고, 출력하는 과정의 반복 때문.
	- 아무리 빠르게 수행된다고 해도, 사람의 눈에 지워지는 것이 보인다.
	- 특히 해상도가 높을 수록, 색상 비트가 높을수록 계산량이 많아지므로 심해진다.

이 현상을 없애기 위해 더블 버퍼링이라는 작업을 수행한다.  

### 더블 버퍼링
프레임 버퍼에 쓰는 시간이 오래 걸려서 잘림 현상이 보인다면, 프레임 버퍼를 두 개 쓰면 된다! 라는 아이디어.  
실제로 대다수 게임에 매우 많이 쓰이는 기법이며, 삼중 버퍼링까지 사용하는 게임도 있다.  

- 프런트 버퍼
	- 현재 화면에 보여지고 있는 데이터를 가진 버퍼
- 백 버퍼
	- 다음에 보여줘야 할 데이터를 가진 버퍼
	- 프런트 버퍼가 화면에 보여지는 동안, 다음에 보여줘야 할 데이터를 여기에 그린다.
	- 다음 프레임을 보여줄 때 프런트 버퍼와 백 버퍼의 역할을 서로 바꾼다.
		- 언제나 다음에 보여질 프레임 버퍼가 백 버퍼.


<br>

---

# 비트 평면
프레임 버퍼에서 색상 값을 표현해야 하는데, RGB 데이터를 사용해 색상 값을 표현할 수 있다.  
각각 8비트씩 사용하여 (0 ~ 255, 0 ~ 255, 0 ~ 255)의 범위로 나타낼 수 있다.  
RGB만 표현하는 데 24비트씩 사용하게 된다.  
여기서 알파 값 A를 표현한다면, 프레임 버퍼 한 칸 당 32비트씩 사용하게 된다.  
<br>

---

# 씬 그래프 (Scene Graph)
3D 공간 상에서 물체의 움직임을 계층적으로 표현하는 하나의 방법.  
씬 그래프를 토대로 하나의 공간을 구조적으로 표현할 수 있다.  
공간을 구조적으로 표현할 수 있다는 말은, 다시 말해 그 구조 내에서 우리가 장면을 굉장히 쉽게 컨트롤할 수 있음을 의미한다.  
<br>

유니티 엔진의 Hierarchy view가 그 예시다.  
상위 오브젝트의 Transform 변환이 이루어지면, 자동적으로 아래 오브젝트들 또한 그에 맞는 변환이 이루어진다.  

<br>

---

# CPU vs GPU
- CPU
	- 한 가지 처리를 굉장히 빠르게 수행
	- 단일 명령 처리 특화
- GPU
	- 한 번에 4가지 처리를 수행
	- 병렬 처리 특화
	- 왜 4가지인가?
		- 3차원 점의 좌표는 아핀 공간까지 포함하여 `(x, y, z, w)`이며 쿼터니언의 계산은 `(w, x, y, z)`, 색상의 계산은 `(r, g, b, a)`로 되어있다.
			- 점의 위치를 계산하는 데 4x4 행렬 역시 사용하기 때문에 4개 병렬 처리가 매우 유용하다.

